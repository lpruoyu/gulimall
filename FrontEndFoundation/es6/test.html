<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- <script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script> -->
</head>

<body>
    <script>










        //1、查出当前用户信息
        //2、按照当前用户的id查出他的课程
        //3、按照当前课程id查出分数

        // function get(url, parameter) {
        //     return new Promise((resolve, reject) => {
        //         $.ajax({
        //             url: url,
        //             type: "GET",
        //             data: parameter,
        //             success(data) {
        //                 console.log(data);
        //                 resolve(data)
        //             },
        //             error(error) {
        //                 reject(error)
        //             }
        //         });
        //     });
        // }

        // get("mock/user.json")
        //     .then((data) => {
        //         console.log(data);
        //         return get(`mock/user_corse_${data.id}.json`)
        //     }).then((data)=>{
        //         console.log(data);
        //         return get(`mock/corse_score_${data.id}.json`)
        //     }).then((data)=>{
        //         console.log(data);
        //     })

        // get("mock/user.json")
        //     .then((data) => get(`mock/user_corse_${data.id}.json`))
        //     .then((data) => get(`mock/corse_score_${data.id}.json`))
        //     // .then((data) => console.log(data))
        //     .catch((err) => console.log(err))

        // $.ajax({
        //     url: "mock/user.json",
        //     success(data) {
        //         console.log("查询用户：", data);
        //         $.ajax({
        //             url: `mock/user_corse_${data.id}.json`,
        //             success(data) {
        //                 console.log("查询到课程：", data);
        //                 $.ajax({
        //                     url: `mock/corse_score_${data.id}.json`,
        //                     success(data) {
        //                         console.log("查询到分数：", data);
        //                     },
        //                     error(error) {
        //                         console.log("出现异常了：" + error);
        //                     }
        //                 });
        //             },
        //             error(error) {
        //                 console.log("出现异常了：" + error);
        //             }
        //         });
        //     },
        //     error(error) {
        //         console.log("出现异常了：" + error);
        //     }
        // });


        //1、Promise可以封装异步操作
        // let p = new Promise((resolve, reject) => {
        //     //1、异步操作
        //     $.ajax({
        //         url: "mock/user.json",
        //         success: function (data) {
        //             console.log("查询用户成功:", data)
        //             resolve(data);
        //         },
        //         error: function (err) {
        //             reject(err);
        //         }
        //     });
        // });

        // p.then((obj) => {
        //     return new Promise((resolve, reject) => {
        //         $.ajax({
        //             url: `mock/user_corse_${obj.id}.json`,
        //             success: function (data) {
        //                 console.log("查询用户课程成功:", data)
        //                 resolve(data);
        //             },
        //             error: function (err) {
        //                 reject(err)
        //             }
        //         });
        //     })
        // }).then((data) => {
        //     console.log("上一步的结果", data)
        //     $.ajax({
        //         url: `mock/corse_score_${data.id}.json`,
        //         success: function (data) {
        //             console.log("查询课程得分成功:", data)
        //         },
        //         error: function (err) {
        //         }
        //     });
        // })

        // function get(url, data) {
        //     return new Promise((resolve, reject) => {
        //         $.ajax({
        //             url: url,
        //             data: data,
        //             success: function (data) {
        //                 resolve(data);
        //             },
        //             error: function (err) {
        //                 reject(err)
        //             }
        //         })
        //     });
        // }

        // get("mock/user.json")
        //     .then((data) => {
        //         console.log("用户查询成功~~~:", data)
        //         return get(`mock/user_corse_${data.id}.json`);
        //     })
        //     .then((data) => {
        //         console.log("课程查询成功~~~:", data)
        //         return get(`mock/corse_score_${data.id}.json`);
        //     })
        //     .then((data)=>{
        //         console.log("课程成绩查询成功~~~:", data)
        //     })
        //     .catch((err)=>{
        //         console.log("出现异常",err)
        //     });
        // let age1 = { age: 15 }
        // let name1 = { name: "Amy" }
        // let p2 = { name: "zhangsan" }
        // p2 = { ...age1, ...name1 }
        // console.log(p2)

        // const person = {
        //     name: "jack",
        //     age: 21,
        //     language: ['java', 'js', 'css']
        // }

        // // console.log(Object.keys(person));//["name", "age", "language"]
        // // console.log(Object.values(person));//["jack", 21, Array(3)]
        // console.log(Object.entries(person));//[Array(2), Array(2), Array(2)]

        // console.log(Object.entries(person)[0])
        // console.log(Object.entries(person)[1])
        // console.log(Object.entries(person)[2][0])
        // console.log(Object.entries(person)[2][1][0])

        // 2、字符串插入变量和表达式。变量名写在 ${} 中，${} 中可以放入 JavaScript 表达式。
        //    const person = {
        //         name: "jack",
        //         age: 21,
        //         language: ['java', 'js', 'css']
        //     }


        //     //         const name = person.name;
        //     //         const age = person.age;
        //     //         const language = person.language;


        //     //对象解构
        //     const { name, age, language } = person;
        //    function fun() {
        //         return "这是一个函数"
        //     }

        //     let info = `我是${name}，今年${age + 10}了, 我想说： ${fun()}`;
        //     console.log(info);

    </script>
</body>

</html>