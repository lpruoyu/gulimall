181P，分享一个自己遇到的问题：
问题：org.elasticsearch.ElasticsearchException: Elasticsearch exception [type=illegal_argument_exception, reason=Can't load fielddata on 【brandName】 because fielddata is unsupported on fields of type 【keyword】. Use doc values instead.]

思路：出现该错误是因为ES5.x之后，对聚合所依据的字段用单独的数据结构(fielddata)缓存到内存里了，但是在text字段上默认是禁用的，如果有需要单独开启，这样做的目的是为了节省内存空间。
具体实现方法可以参考文档或者自行百度。

解决：在字段里加上keyword，例如：
.field("brandName.keyword")
.field("brandImg.keyword")
.field("catalogName.keyword")
.field("attrs.attrName.keyword")



9.6看到p261，开始投秋招，到9.25，0offer，知识点问的频率统计：es0，mq1；redisson1；token1；社交登录0；验证码防刷1；多线程很多家；业务没人问；springcache0；压测2；三级缓存1；redis好几家；nginx1；jvm很多；微服务很多家；docker1。总结：基本问的八股文，特别是多线程、mysql索引B+树、类加载、map、list、redis，这些基本是必问，没企业关心应届生做的学习类项目。
2023-09-25 15:20
12
回复

消耗六个硬币呦_
项目都不问吗，不做项目怎么知道redis那些[笑哭]
2023-09-25 21:03
回复

57100131166_bili
回复 @消耗六个硬币呦_ : 学习类的项目不问，会问真实上线的项目。如果没有真实上线的项目，就问你spring原理、redis原理和使用场景等。


P290：seata0.7.1版本的报插入为空错误的是因为seata 0.7.1不支持批量保存，大家把saveOrder()里边的 orderItemService.saveBatch(items)改成用foreach,保存单个就好了----- for (OrderItemEntity item : orderItems) {
            orderItemService.save(item);
        }
还要注意 seata版本要与springcloud alibaba的版本对应，不然可能因为版本问题导致服务无法启动


本地nginx nginx【反向代理使用云服务提示未备案】



P213的阿里短信服务，如果没有备案域名和已上线可访问的地址的话，签名和模板是没法审核通过的，这个可以用容联云代替，缺点就是最多绑定三个手机号，也就是只能给这三个手机号发验证码，不过走项目流程是够了，可以看一下我怎么写的
https://gitee.com/shen_guo_ji/gulimall








==========================================================================================================================


下面分享一下我个人集群篇的配置,大家也可以少走点弯路
master: 4 core, 6g memoery(使用率38%，可以设为5g, 4g会宕机) 
node1: 6 core, 8g memoery(使用率78%，建议不要低于8g会宕机)
node2: 6 core, 9g memoery(使用率83%，建议不要低于8g会宕机)
我个人电脑是20核32G内存，再开上idea和浏览器，内存会占用92%以上，所以集群篇至少也要32G内存(微服务的最大内存都是-Xmx100m)
还有个点：如果你学过并发构建，部署文件里的replicas 最好设为0，不然一部署全部上到一个节点上，立马宕机